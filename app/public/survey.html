<DOCTYPE html>

    <head>
        <meta charset="UTF-8">
        <title>Survey</title>
        <meta charset="UTF-8">
        <title>Man's Best Friend Finder</title>
        <!-- jQuery -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <!-- Google Fonts-->
        <link href="https://fonts.googleapis.com/css?family=Special+Elite" rel="stylesheet">
        <!-- Bootstrap CDN-->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <!-- Mobile Responsive Viewport info-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Native CSS-->
        <link rel="stylesheet" type="text/css" href="assets/style.css">
        <!-- jQuery UI links -->
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    </head>

    <body>
        <div class="container">
            <h2>Survey Questions</h2>
            <hr>
            <h3>Fill out the Survey to find you perfect companion!</h3>
            <h4>Name</h4>
            <input type="text" name="" id="name" class="form-control" placeholder="Name (required)" required>
            <h4>Add your photo</h4>
            <input type="text" name="" id="photo" class="form-control" placeholder="required" required>
            <hr>
            <h3>Question 1</h3>
            <h4>A dog is a protector first, and a pet second</h4>
            <select class="answer" id="q1">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h3>Question 2</h3>
            <h4>I find taking my dog to the groomers is a normal part of owning a pet</h4>
            <select class="answer" id="q2">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h3>Question 3</h3>
            <h4>I have a large yard, or am able to exercise my dog regularly.</h4>
            <select class="answer" id="q3">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h3>Question 4</h3>
            <h4>I'm partial to large breeds over small dogs</h4>
            <select class="answer" id="q4">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h3>Question 5</h3>
            <h4>Shedding? No thanks!</h4>
            <select class="answer" id="q5">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h3>Question 6</h3>
            <h4>I need a dog that is good with other pets.</h4>
            <select class="answer" id="q6">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h3>Question 7</h3>
            <h4>My dog should be good with children of all ages.</h4>
            <select class="answer" id="q7">
                <option value="" disabled selected>Choose your option</option>
                <option value="1 ">1 (Strongly Disagree)</option>
                <option value="2 ">2</option>
                <option value="3 ">3</option>
                <option value="4 ">4</option>
                <option value="5 ">5 (Strongly Agree)</option>
            </select>

            <h3>Question 8</h3>
            <h4>I prefer an older dog to a young puppy.</h4>
            <select class="answer " id="q8">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h3>Question 9</h3>
            <h4>I perfer short haired breeds to long haired dogs.</h4>
            <select class="answer" id="q9">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h3>Question 10</h3>
            <h4>I'm high energy, and need a dog that can keep up!</h4>
            <select class="answer" id="q10">
                <option value="" disabled selected>Choose your option</option>
                <option value="1 ">1 (Strongly Disagree)</option>
                <option value="2 ">2</option>
                <option value="3 ">3</option>
                <option value="4 ">4</option>
                <option value="5 ">5 (Strongly Agree)</option>
            </select>
            
            <br>
            <br>
            <!-- Submit Button -->
            <button type="submit" data-toggle="modal" data-target="#myModal" class="btn btn-primary btn-lg btn-block " id="submit">Submit</button>
            <hr>
        </div>

<!-- Modal -->
 <div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title">Time to Meet your New Best Friend</h3>
            </div>
            <div class="modal-body">
              <div id="petName"></div>
              <img id="petPhoto" src=""  width = 150px>
            </div>
            <div class="modal-footer">
                <button type="button" data-dismiss="modal"class="btn btn-primary" id="restart">Play Again?</button>
            </div>
        </div>
    </div>

   </body>
</html>

<!--Javascript Stylesheet -->
<script type="text/javascript">
$(document).ready(function() {
    $("#submitBtn").on("click", function(event) {
        event.preventDefault();

        function validateForm() {
            var isValid = true;
            $('.validate').each(function() {
                if ($(this).val() === '') {
                    isValid = false;
                }
            });
            $('.browser-default').each(function() {
                if ($(this).val() === "") {
                    isValid = false;
                }
            });
            return isValid;
        }
        if (validateForm() == true) {
            var userInput = {
                name: $('#name').val().trim(),
                photo: $('#photo').val().trim(),
                score: [
                    $('#q1').val().trim(),
                    $('#q2').val().trim(),
                    $('#q3').val().trim(),
                    $('#q4').val().trim(),
                    $('#q5').val().trim(),
                    $('#q6').val().trim(),
                    $('#q7').val().trim(),
                    $('#q8').val().trim(),
                    $('#q9').val().trim(),
                    $('#q10').val().trim(),
                ] 
            };

            var currentURL = window.location.origin;
            $.post(currentURL + "/api/friend", userInput, function(data) {
                $("#petName").html(data.name);
                $("#petPhoto").attr("src", data.photo);
                $('#myModal').modal();
            });
console.log(userInput);
            

            $("#restart").on("click", function(event) {
                event.preventDefault();
                $('#name').val("");
                $('#photo').val("");
                $('#q1').val("");
                $('#q2').val("");
                $('#q3').val("");
                $('#q4').val("");
                $('#q5').val("");
                $('#q6').val("");
                $('#q7').val("");
                $('#q8').val("");
                $('#q9').val("");
                $('#q10').val("");
            });
        }
        // return false;
    });
});
</script>